# Service Archetype

## Purpose
This Project contains a Maven Archetype which is used to initialize new Services for Datapart. After a project is created based on this archetype, you can start with refactoring the API according to your needs and go on building your individual service.

## Prerequisites
    A Maven repository where the archetype will be installed.

## Installation
Navigate to the director which contains the archetypes pom.xml,

    ...\service-archetype\src\main\resources\archetype-resources\pom.xml
to install the archety in your local maven repository, run:

    mvn clean install

## How to generate a project
Navigate to the directory, where you want to setup your new project, f.e.

    ...\Projekte\datapart

generate you project whith the following paramters:

**-DarchetypeCatalog** (where to look for the archetype, in this case, local)

**-DpartUrl** (a partial url, used in the projects bootstrap.yaml, usually the same the artifactId)

**-DdefaultClassPrefix** (Autogenerated classnames in your project will be prefixed with this string)

**-DdefaultVariablePrefix** (Autogenerated variables in your project will be prefixed with this string)

**-DapplicationName** (your project name, like it will be shown in the OpenLeap Admin UI)

For exapmle, if you want to create a Project named CRUD-SERVICE, run:

    mvn archetype:generate -DarchetypeCatalog=local -DpartUrl=crud-service -DdefaultClassPrefix=Crud -DdefaultVariablePrefix=crud -DapplicationName=CRUD-SERVICE  

Then choose this archetype from your archetype catalog:

    1: local -> com.bb.datapart:example-service-archetype (A new Datapart Service)
    2: local -> com.bb.datapart:crud-service-archetype (A new CRUD Service for Datapart)
    Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): : 2

You will be asked to set some properties:

    [INFO] Using property: defaultVariablePrefix = crud
    [INFO] Using property: partUrl = crud-service
    [INFO] Using property: defaultClassPrefix = Crud
    [INFO] Using property: applicationName = CRUD-SERVICE
    Define value for property 'groupId': com.bb.datapart
    Define value for property 'artifactId': crud-service
    Define value for property 'version' 1.0-SNAPSHOT: 1.2.3
    Define value for property 'package' com.bb.datapart: com.bb.dtp

A summary of your choices will be prompted:

    Confirm properties configuration:
    defaultVariablePrefix: crud
    partUrl: crud-service
    defaultClassPrefix: Crud
    applicationName: CRUD-SERVICE
    groupId: com.bb.datapart
    artifactId: crud-service
    version: 1.2.3
    package: com.bb.dtp
    Y: y

Once you confirm with y, your project will be created. You can now open it in your IDE.